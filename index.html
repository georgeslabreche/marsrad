<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>marsrad: Mars Solar Radiation • marsrad</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="marsrad: Mars Solar Radiation">
<meta name="description" content="Calculate solar irradiance and insolation on Mars">
<meta property="og:description" content="Calculate solar irradiance and insolation on Mars">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">marsrad</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/georgeslabreche/marsrad/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="marsrad-mars-solar-radiation">marsrad: Mars Solar Radiation<a class="anchor" aria-label="anchor" href="#marsrad-mars-solar-radiation"></a>
</h1></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>An R package to calculate solar irradiance (instantaneous power) and insolation (energy over time) on the Martian surface for both horizontal and inclined surfaces. This package is essential in designing solar power systems for Mars missions and mission planning. Based on NASA Technical Memoranda 102299, 103623, 105216, 106321, and 106700, i.e. the canonical Mars solar radiation papers.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research or publication, please cite the paper it was developed for:</p>
<p><strong>Labrèche, Georges and Cordes, Florian.</strong> (2020). “<a href="https://www.hou.usra.edu/meetings/isairas2020fullpapers/pdf/5035.pdf" class="external-link">Using a Rover’s Active Suspension System as a 2-Axis Solar Tracker Mechanism</a>.” <em>15th International Symposium on Artificial Intelligence, Robotics and Automation in Space (i-SAIRAS ’20)</em>, October 2020. <a href="https://www.hou.usra.edu/meetings/isairas2020fullpapers/pdf/5035.pdf" class="external-link uri">https://www.hou.usra.edu/meetings/isairas2020fullpapers/pdf/5035.pdf</a></p>
<div class="section level3">
<h3 id="bibtex">BibTeX<a class="anchor" aria-label="anchor" href="#bibtex"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="va">@inproceedings</span>{<span class="ot">labreche2020rover</span>,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="dt">title</span>={Using a Rover's Active Suspension System as a 2-Axis Solar Tracker Mechanism},</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="dt">author</span>={Labr{<span class="ch">\`</span>e}che, Georges and Cordes, Florian},</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="dt">booktitle</span>={15th International Symposium on Artificial Intelligence, Robotics and Automation in Space (i-SAIRAS '20)},</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="dt">month</span>={October},</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="dt">year</span>={2020},</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="dt">url</span>={https://www.hou.usra.edu/meetings/isairas2020fullpapers/pdf/5035.pdf}</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<p><strong>Labrèche, G</strong>. (2020). <a href="https://www.diva-portal.org/smash/record.jsf?pid=diva2:1413245" class="external-link">Exploiting the SherpaTT Rover Active Suspension System to Enable Optimal Solar Array Inclination and Orientation for Long Traverses in a Martian Environment</a>. <em>Master’s Thesis, Luleå University of Technology</em>, March 2020. <a href="https://www.diva-portal.org/smash/record.jsf?pid=diva2:1413245" class="external-link uri">https://www.diva-portal.org/smash/record.jsf?pid=diva2:1413245</a></p>
</div>
<div class="section level2">
<h2 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<ul>
<li>Calculate solar radiation on horizontal and inclined surfaces</li>
<li>Account for Martian atmospheric conditions including dust opacity</li>
<li>Support for various surface orientations and slope angles</li>
<li>Handle polar day/night conditions</li>
<li>Compute optimal tilt angles for photovoltaic arrays</li>
<li>Calculate sunrise/sunset times on Mars</li>
</ul>
</div>
<div class="section level2">
<h2 id="whats-included">What’s Included<a class="anchor" aria-label="anchor" href="#whats-included"></a>
</h2>
<p>The package implements equations for:</p>
<ul>
<li>
<strong>Global irradiance</strong> - total solar radiation (direct + diffuse + reflected)</li>
<li>
<strong>Direct beam radiation</strong> - sunlight arriving directly from the sun</li>
<li>
<strong>Diffuse radiation</strong> - light scattered by atmospheric dust</li>
<li>
<strong>Albedo reflection</strong> - ground-reflected radiation</li>
<li>
<strong>Insolation</strong> - integrated solar energy over time</li>
<li>
<strong>Utility functions</strong> - sunrise/sunset, optimal angles, polar day/night detection</li>
</ul>
<p>For a complete list of all functions with descriptions, see <a href="docs/FUNCTIONS.html">FUNCTIONS.md</a>.</p>
</div>
<div class="section level2">
<h2 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h2>
<p>Calculate and plot solar radiation on Mars as a function of the following parameters: - Areocentric Longitude (Ls) - Planetary Latitude (phi) - Solar Time (omega) - Atmospheric Opacity (tau) - Albedo (al) - Slope Angle (beta) - Slope Orientation (gamma)</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Install the package from GitHub using devtools:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools if you haven't already</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install the mars package</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"georgeslabreche/marsrad"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://georgeslabreche.github.io/marsrad/">marsrad</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate global irradiance on a horizontal surface</span></span>
<span><span class="co"># Example: Mars surface at Viking Lander 1 site during northern summer</span></span>
<span><span class="va">Ls</span> <span class="op">&lt;-</span> <span class="fl">120</span>           <span class="co"># Areocentric longitude (degrees)</span></span>
<span><span class="va">phi</span> <span class="op">&lt;-</span> <span class="fl">22.3</span>         <span class="co"># Latitude (degrees) - VL1 location</span></span>
<span><span class="va">longitude</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">48</span>    <span class="co"># Longitude (degrees) - VL1 at 48°W</span></span>
<span><span class="va">Ts</span> <span class="op">&lt;-</span> <span class="fl">12</span>            <span class="co"># Solar time (hours) - noon</span></span>
<span><span class="va">tau</span> <span class="op">&lt;-</span> <span class="fl">0.4</span>          <span class="co"># Atmospheric optical depth</span></span>
<span><span class="va">al</span> <span class="op">&lt;-</span> <span class="fl">0.1</span>           <span class="co"># Albedo</span></span>
<span></span>
<span><span class="co"># Global irradiance on horizontal surface (W/m²)</span></span>
<span><span class="va">Gh</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/G_h.html">G_h</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, longitude <span class="op">=</span> <span class="va">longitude</span>, Ts <span class="op">=</span> <span class="va">Ts</span>, tau <span class="op">=</span> <span class="va">tau</span>, al <span class="op">=</span> <span class="va">al</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Global irradiance:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">Gh</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"W/m²"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Daily insolation on horizontal surface (Wh/m²-day)</span></span>
<span><span class="va">Hh</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/H_h.html">H_h</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, longitude <span class="op">=</span> <span class="va">longitude</span>, tau <span class="op">=</span> <span class="va">tau</span>, al <span class="op">=</span> <span class="va">al</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Daily insolation:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">Hh</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"Wh/m²-day"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate for an inclined surface (e.g., tilted solar panel)</span></span>
<span><span class="va">beta</span> <span class="op">&lt;-</span> <span class="fl">30</span>          <span class="co"># Tilt angle (degrees)</span></span>
<span><span class="va">gamma_c</span> <span class="op">&lt;-</span> <span class="fl">0</span>        <span class="co"># Surface azimuth angle (degrees, 0 = facing equator)</span></span>
<span></span>
<span><span class="co"># Global irradiance on inclined surface (W/m²)</span></span>
<span><span class="va">Gi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/G_i.html">G_i</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, longitude <span class="op">=</span> <span class="va">longitude</span>, Ts <span class="op">=</span> <span class="va">Ts</span>,</span>
<span>          tau <span class="op">=</span> <span class="va">tau</span>, al <span class="op">=</span> <span class="va">al</span>, beta <span class="op">=</span> <span class="va">beta</span>, gamma_c <span class="op">=</span> <span class="va">gamma_c</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Inclined surface irradiance:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">Gi</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"W/m²"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find optimal tilt angle for maximum daily insolation</span></span>
<span><span class="va">optimal</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/optimal_angle.html">optimal_angle</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, unit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Optimal tilt angle:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">optimal</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"degrees"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate sunrise and sunset times (in solar hours, 0-24)</span></span>
<span><span class="va">sunrise_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sunrise.html">sunrise</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, unit <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">sunset_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sunset.html">sunset</a></span><span class="op">(</span>Ls <span class="op">=</span> <span class="va">Ls</span>, phi <span class="op">=</span> <span class="va">phi</span>, unit <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Sunrise:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">sunrise_time</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"hours"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Sunset:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">sunset_time</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"hours"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="environment-variables">Environment Variables<a class="anchor" aria-label="anchor" href="#environment-variables"></a>
</h2>
<p>The package can be configured via environment variables to control calculation methods and behavior:</p>
<div class="section level3">
<h3 id="net_flux_function_type">NET_FLUX_FUNCTION_TYPE<a class="anchor" aria-label="anchor" href="#net_flux_function_type"></a>
</h3>
<p>Controls which implementation of the normalized net flux function to use. Affects all radiation calculations.</p>
<p><strong>Options:</strong></p>
<ul>
<li>
<code>"polynomial"</code> (default) - Analytical polynomial expression
<ul>
<li>Mean error: ~0.7%</li>
<li>Maximum error: ~7% at zenith angles 80-85° and optical depth &gt; 5</li>
<li>Works with any albedo value</li>
<li>Recommended for most use cases</li>
</ul>
</li>
<li>
<code>"lookup_v1"</code> - Lookup table from NASA TM-102299 (Appelbaum &amp; Flood, 1989)
<ul>
<li>Albedo fixed at 0.1</li>
<li>Exact values from original tables</li>
<li>Only works with discrete zenith angles: 0°, 10°, 20°, 30°, 40°, 50°, 60°, 70°, 80°, 85°</li>
<li>Not recommended for calculations with arbitrary zenith angles from <code><a href="reference/Z.html">Z()</a></code>
</li>
</ul>
</li>
<li>
<code>"lookup_v2"</code> - Lookup table from NASA TM-103623 (Appelbaum &amp; Flood, 1990)
<ul>
<li>Supports albedo 0.1 and 0.4</li>
<li>Exact values from updated tables</li>
<li>Only works with discrete zenith angles: 0°, 5°, 10°, 15°, …, 80°, 85°</li>
<li>Not recommended for calculations with arbitrary zenith angles from <code><a href="reference/Z.html">Z()</a></code>
</li>
</ul>
</li>
</ul>
<p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use polynomial implementation (default)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>NET_FLUX_FUNCTION_TYPE <span class="op">=</span> <span class="st">"polynomial"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use lookup table v2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>NET_FLUX_FUNCTION_TYPE <span class="op">=</span> <span class="st">"lookup_v2"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="net_flux_function_show_warnings">NET_FLUX_FUNCTION_SHOW_WARNINGS<a class="anchor" aria-label="anchor" href="#net_flux_function_show_warnings"></a>
</h3>
<p>Controls whether to display warnings about potential calculation errors.</p>
<p><strong>Options:</strong></p>
<ul>
<li>
<code>TRUE</code> (default) - Show warnings when polynomial calculations may have notable error margin</li>
<li>
<code>FALSE</code> - Suppress warnings</li>
</ul>
<p>Warnings are shown when:</p>
<ul>
<li>Optical depth tau &gt; 5</li>
<li>Zenith angle z &gt;= 80°</li>
</ul>
<p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Show warnings (default)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>NET_FLUX_FUNCTION_SHOW_WARNINGS <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Suppress warnings</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>NET_FLUX_FUNCTION_SHOW_WARNINGS <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="development">Development<a class="anchor" aria-label="anchor" href="#development"></a>
</h2>
<div class="section level3">
<h3 id="running-tests">Running Tests<a class="anchor" aria-label="anchor" href="#running-tests"></a>
</h3>
<p>To run the package tests during development:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools if you haven't already</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 1: Run tests only (faster for quick testing)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">test</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 2: Run a full package check (includes tests, documentation, examples)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">check</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong><code>devtools::test()</code></strong> is recommended for quick iteration during development - it loads your package and runs all tests without requiring installation.</p>
<p><strong><code>devtools::check()</code></strong> performs a comprehensive package check including tests, documentation, examples, and package structure validation - use this before submitting to CRAN or creating releases.</p>
</div>
<div class="section level3">
<h3 id="generating-documentation">Generating Documentation<a class="anchor" aria-label="anchor" href="#generating-documentation"></a>
</h3>
<div class="section level4">
<h4 id="generating-man-files">Generating man/ Files<a class="anchor" aria-label="anchor" href="#generating-man-files"></a>
</h4>
<p>The <code>man/</code> directory contains R documentation files (.Rd) generated from roxygen2 comments in the source code. To regenerate these files after modifying function documentation:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install roxygen2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"roxygen2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate documentation</span></span>
<span><span class="fu">roxygen2</span><span class="fu">::</span><span class="fu">roxygenize</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This updates all <code>.Rd</code> files in the <code>man/</code> directory based on the <code>#'</code> roxygen2 comments in R source files.</p>
</div>
<div class="section level4">
<h4 id="generating-pdf-reference-manual">Generating PDF Reference Manual<a class="anchor" aria-label="anchor" href="#generating-pdf-reference-manual"></a>
</h4>
<p>The package reference manual is a comprehensive PDF containing documentation for all exported functions.</p>
<p>For Apple Silicon Macs (M1/M2/M3):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Build the Docker image (first time only, from repository root)</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">--platform</span> linux/amd64 <span class="at">-t</span> mars-docs <span class="at">-f</span> Dockerfile-docs .</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># Generate the PDF</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">--platform</span> linux/amd64 <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>/docs:/output mars-docs</span></code></pre></div>
<p>For Intel Macs and Linux:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Build the Docker image (first time only, from repository root)</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> mars-docs <span class="at">-f</span> Dockerfile-docs .</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co"># Generate the PDF</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>/docs:/output mars-docs</span></code></pre></div>
<p>The PDF will be created at <code>docs/mars-manual.pdf</code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Based on the following excellent work:</p>
<ul>
<li><p><a href="https://ntrs.nasa.gov/citations/19890018252" class="external-link">Appelbaum, Joseph &amp; Flood, Dennis. (1989). Solar Radiation on Mars. NASA TM-102299.</a> Detailed information on solar radiation characteristics on Mars are necessary for effective design of future planned solar energy systems operating on the surface of Mars. In this paper we present a procedure and solar radiation related data from which the diurnally, hourly and daily variation of the global, direct beam and diffuse insolation on Mars are calculated. The radiation data are based on measured optical depth of the Martian atmosphere derived from images taken of the sun with a special diode on the Viking cameras; and computation based on multiple wavelength and multiple scattering of the solar radiation.</p></li>
<li><p><a href="https://ntrs.nasa.gov/citations/19910005804" class="external-link">Appelbaum, Joseph &amp; Flood, Dennis. (1990). Solar radiation on Mars: Update 1990. NASA TM-103623.</a> Detailed information on solar radiation characteristics on Mars are necessary for effective design of future planned solar energy systems operating on the surface of Mars. The authors present a procedure and solar radiation related data from which the diurnally and daily variation of the global, direct beam and diffuse insolation on Mars are calculated. The radiation data are based on measured optical depth of the Martian atmosphere derived from images taken of the Sun with a special diode on the Viking Lander cameras and computation based on multiple wavelength and multiple scattering of the solar radiation. This work is an update to NASA-TM-102299 and includes a refinement of the solar radiation model.</p></li>
<li><p><a href="https://ntrs.nasa.gov/citations/19910023732" class="external-link">Appelbaum, Joseph &amp; Flood, Dennis. (1991). Solar radiation on Mars: Update 1991. NASA TM-105216.</a> Detailed information on solar radiation characteristics on Mars are necessary for effective design of future planned solar energy systems operating on the surface of Mars. In this paper we present a procedure and solar radiation related data from which the daily variation of the global, direct beam, and diffuse insolation on Mars are calculated. Given the optical depth of the Mars atmosphere, the global radiation is calculated from the normalized net flux function based on multiple wavelength and multiple scattering of the solar radiation. The direct beam was derived from the optical depth using Beer’s law, and the diffuse component was obtained from the difference of the global and the direct beam radiation. The optical depths of the Mars atmosphere were derived from images taken of the Sun with a special diode on the cameras used on the two Viking Landers.</p></li>
<li><p><a href="https://ntrs.nasa.gov/citations/19940010257" class="external-link">Appelbaum, Joseph &amp; Sherman, Irving &amp; Landis, Geoffrey. (1993). Solar radiation on Mars: Stationary photovoltaic array. NASA TM-106321.</a> Solar energy is likely to be an important power source for surface-based operation on Mars. Photovoltaic cells offer many advantages. In this article we have presented analytical expressions and solar radiation data for stationary flat surfaces (horizontal and inclined) as a function of latitude, season and atmospheric dust load (optical depth). The diffuse component of the solar radiation on Mars can be significant, thus greatly affecting the optimal inclination angle of the photovoltaic surface.</p></li>
<li><p><a href="https://ntrs.nasa.gov/citations/19950004977" class="external-link">Appelbaum, Joseph &amp; Flood, Dennis &amp; Norambuena, Marcos. (1994). Solar radiation on Mars: Tracking photovoltaic array. NASA TM-106700.</a> A photovoltaic power source for surface-based operation on Mars can offer many advantages. Detailed information on solar radiation characteristics on Mars and the insolation on various types of collector surfaces are necessary for effective design of future planned photovoltaic systems. In this article we have presented analytical expressions for solar radiation calculation and solar radiation data for single axis (of various types) and two axis tracking surfaces and compared the insulation to horizontal and inclined surfaces. For clear skies (low atmospheric dust load) tracking surfaces resulted in higher insolation than stationary surfaces, whereas for highly dusty atmospheres, the difference is small. The insolation on the different types of stationary and tracking surfaces depend on latitude, season and optical depth of the atmosphere, and the duration of system operation. These insolations have to be compared for each mission.</p></li>
</ul>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/georgeslabreche/marsrad/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/georgeslabreche/marsrad/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing marsrad</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Georges Labrèche <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2104-8789" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/georgeslabreche/marsrad/actions" class="external-link"><img src="https://github.com/georgeslabreche/marsrad/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Georges Labrèche.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
